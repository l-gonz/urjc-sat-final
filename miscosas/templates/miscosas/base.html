{% load static %}
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <!-- Popper JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
        <!-- Material Design Icons -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
        <!-- Material Design Icons -->
        <link rel="stylesheet" href="{% static 'miscosas/style.css' %}" type="text/css">

        <title>{{ title }}</title>
    </head>
    <body class="{{user.profile.theme}} {{user.profile.font_size}}">
        <!-- Banner -->
        <div id="banner" style="background-image: url({% static 'miscosas/banner.jpg' %})">
            <h1> Mis cosas </h1>
        </div>

        <!-- Navigation bar -->
        <nav id="navbar">
            <a {%if request.path == "/"%}class="disabled-nav-item"{%else%}href="/"{%endif%}>Home</a>
            <a {%if request.path == "/feeds"%}class="disabled-nav-item"{%else%}href="/feeds"{%endif%}>Feeds</a>
            <a {%if request.path == "/users"%}class="disabled-nav-item"{%else%}href="/users"{%endif%}>Users</a>
            <a {%if request.path == "/about"%}class="disabled-nav-item"{%else%}href="/about"{%endif%}>About</a>

            <!-- User authentication box -->
            <div id="user-panel" class="dropdown">
                <button class="btn" type="button" data-toggle="dropdown">
                    <i class="material-icons">person</i>
                </button>
                <div class="dropdown-menu">
                    {% if user.is_authenticated %}
                        <a class="dropdown-item" href="/user/{{ user.username }}">My page</a>
                        {% if user.is_superuser %}
                            <a class="dropdown-item" href="/admin">Admin</a>
                        {% endif %}
                        <a class="dropdown-item" href="/logout">Log out</a>
                    {% else %}
                        <a class="dropdown-item" href="/login">Log in</a>
                    {% endif %}
                </div>
            </div>
        </nav>

        <!-- Content block -->
        <div id="content" class="container">
            {% block content %}
            {% endblock %}
        </div>

        {% if documents %}
            <div id="documents">
                <form method="GET" action="{{ request.path }}">
                    <button type="submit" name="format" value="xml">XLM</button>
                    <button type="submit" name="format" value="json">JSON</button>
                </form>
            </div>
        {%endif%}

        <!-- Footer -->
        <hr>
        <div id="footer">
            <footer>This app uses data provided by <a href="https://youtube.com">YouTube</a> and <a href="https://last.fm">last.fm</a>.</footer>
        </div>
    </body>
</html>